{% extends "::layout.html.twig" %}

{% block title %}{{ parent() }} - Classement{% endblock %}

{% block body %}
<h1>Poule {{NumeroPoule}}</h1>


<ul class="nav nav-pills">
  {% for i in 1..NombrePoules %}
  <li><a href="{{ path('bloom_match_up_afficher_poule' , { 'NumeroPoule' : i }) }}">Poule {{i}} </a></li>
  {% endfor %}
</ul>

  <table class="table table-hover table-bordered">
    <tr>
      <td># Joueur</td>
{% for j in classementpoule%}
      <td><p class="text-center">{{loop.index}}</p></td> 
{% endfor %}
   </tr>

{% for j in classementpoule %}

        <tr>
          <td >{{loop.index}} {{ j.username }}</td>
          <td><p class="text-center">{% if loop.index == 1 %}
                X
                  {% else %}
                  {% for i in rencontresIdVainqueur %}
                    {% if rencontresIdVainqueur[loop.index0]  == j.Id and rencontresIdPerdant[loop.index0] == joueursId.0 %}
                V
                {% elseif rencontresIdPerdant[loop.index0]  == j.Id and rencontresIdVainqueur[loop.index0] == joueursId.0 %}
                {{scorePerdant[loop.index0]}}
                {% endif %}
                {% endfor %}
              {% endif %}
          </p></td>
          <td><p class="text-center">{% if loop.index == 2 %}
                X
                  {% else %}
                  {% for i in rencontresIdVainqueur %}
                    {% if rencontresIdVainqueur[loop.index0]  == j.Id and rencontresIdPerdant[loop.index0] == joueursId.1 %}
                V
                {% elseif rencontresIdPerdant[loop.index0]  == j.Id and rencontresIdVainqueur[loop.index0] == joueursId.1 %}
                {{scorePerdant[loop.index0]}}
                {% endif %}
                {% endfor %}
              {% endif %}
            </p></td>
          <td><p class="text-center">{% if loop.index == 3 %}
                X
                  {% else %}
                  {% for i in rencontresIdVainqueur %}
                    {% if rencontresIdVainqueur[loop.index0]  == j.Id and rencontresIdPerdant[loop.index0] == joueursId.2 %}
                V
                {% elseif rencontresIdPerdant[loop.index0]  == j.Id and rencontresIdVainqueur[loop.index0] == joueursId.2 %}
                {{scorePerdant[loop.index0]}}
                {% endif %}
                {% endfor %}
              {% endif %}
            </p></td>
          <td><p class="text-center">{% if loop.index == 4 %}
                X
                  {% else %}
                  {% for i in rencontresIdVainqueur %}
                    {% if rencontresIdVainqueur[loop.index0]  == j.Id and rencontresIdPerdant[loop.index0] == joueursId.3 %}
                V
                {% elseif rencontresIdPerdant[loop.index0]  == j.Id and rencontresIdVainqueur[loop.index0] == joueursId.3 %}
                {{scorePerdant[loop.index0]}}
                {% endif %}
                {% endfor %}
              {% endif %}
            </p></td>
          {% if classementpoule[4] is defined %}<td><p class="text-center">
            {% if loop.index == 5 %}
                X
                  {% else %}
                  {% for i in rencontresIdVainqueur %}
                    {% if rencontresIdVainqueur[loop.index0]  == j.Id and rencontresIdPerdant[loop.index0] == joueursId.4 %}
                V
                {% elseif rencontresIdPerdant[loop.index0]  == j.Id and rencontresIdVainqueur[loop.index0] == joueursId.4 %}
                {{scorePerdant[loop.index0]}}
                {% endif %}
                {% endfor %}
              {% endif %}
              </p></td>{% endif %}        
        </tr>

{% endfor %}
  </table>
  <a href="{{ path('bloom_match_up_entrer_resultat') }}">Entrer un r√©sultat</a>

{% endblock %}